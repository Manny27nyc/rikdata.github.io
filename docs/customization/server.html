<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Server Side Customization · RikData OneApp</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="OneApp is a flexible application, and you can map various business requirements using correct configurations. However, in case of any unique requirements, the application also provides well-structured JavaScript APIs that you can use to customize the application. You can customize the application either on the server side (an application that uses RikData Rest Builder) or on the client-side."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Server Side Customization · RikData OneApp"/><meta property="og:type" content="website"/><meta property="og:url" content="https://rikdata.github.io/"/><meta property="og:description" content="OneApp is a flexible application, and you can map various business requirements using correct configurations. However, in case of any unique requirements, the application also provides well-structured JavaScript APIs that you can use to customize the application. You can customize the application either on the server side (an application that uses RikData Rest Builder) or on the client-side."/><meta property="og:image" content="https://rikdata.github.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://rikdata.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100,"id":"back-to-top","showWhenScrollTopIs":1,"onClickScrollTo":0,"scrollDuration":100,"diameter":48,"cornerOffset":20,"backgroundColor":"#465cab","textColor":"#fff"}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/favicon.ico" alt="RikData OneApp"/><h2 class="headerTitleWithLogo">RikData OneApp</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/introduction" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/docs/download" target="_self">Download</a></li><li class=""><a href="/docs/javadocs/" target="_self">JavaDocs</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Customization</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/quickstart">Quickstart</a></li><li class="navListItem"><a class="navItem" href="/docs/dashboard">Dashboard</a></li><li class="navListItem"><a class="navItem" href="/docs/search">Search</a></li><li class="navListItem"><a class="navItem" href="/docs/search/display-type">Result Display Type</a></li><li class="navListItem"><a class="navItem" href="/docs/search/report">Report</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Oracle<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/document">Documents</a></li><li class="navListItem"><a class="navItem" href="/docs/oracle/document-oracle">Oracle Cloud Documents</a></li><li class="navListItem"><a class="navItem" href="/docs/oracle/transactions">Oracle Cloud Transactions</a></li><li class="navListItem"><a class="navItem" href="/docs/oracle/purchasing-transactions">Purchasing Transactions</a></li><li class="navListItem"><a class="navItem" href="/docs/oracle/document-ebs-r12">EBS R12 Documents</a></li><li class="navListItem"><a class="navItem" href="/docs/oracle/transactions-ebs-r12">EBS R12 Transactions</a></li><li class="navListItem"><a class="navItem" href="/docs/oracle/ebs-reports">EBS Reports</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">SAP<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/sap/document-sap">SAP Documents</a></li><li class="navListItem"><a class="navItem" href="/docs/sap/sap-transactions">SAP Transactions</a></li><li class="navListItem"><a class="navItem" href="/docs/sap/sap-config">SAP Config</a></li><li class="navListItem"><a class="navItem" href="/docs/sap/new_movement_type">Movement Type</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Other Applications<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/document-d365bc">Dynamics 365 BC</a></li><li class="navListItem"><a class="navItem" href="/docs/snow/document-snow">ServiceNow</a></li><li class="navListItem"><a class="navItem" href="/docs/sforce/document-sforce">Salesforce</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Configuration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/admin/configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/admin/go-rest-builder">GO-REST Builder</a></li><li class="navListItem"><a class="navItem" href="/docs/install-ebs-rest">EBS REST Application</a></li><li class="navListItem"><a class="navItem" href="/docs/related-data-in-tabs">Related Data In Tabs</a></li><li class="navListItem"><a class="navItem" href="/docs/admin/input-type">Input Type</a></li><li class="navListItem"><a class="navItem" href="/docs/admin/default-config-ora-cloud">Oracle Cloud Default Config</a></li><li class="navListItem"><a class="navItem" href="/docs/admin/default-config-ora-ebs">Oracle EBS Default Config</a></li><li class="navListItem"><a class="navItem" href="/docs/admin/default-config-sap">SAP Default Config</a></li><li class="navListItem"><a class="navItem" href="/docs/admin/default-config-d365">D365 Default Config</a></li><li class="navListItem"><a class="navItem" href="/docs/admin/default-config-snow">ServiceNow Default Config</a></li><li class="navListItem"><a class="navItem" href="/docs/admin/default-config-sforce">Salesforce Default Config</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Customization<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/customization/server">Server</a></li><li class="navListItem"><a class="navItem" href="/docs/customization/client">Client</a></li><li class="navListItem"><a class="navItem" href="/docs/customization/custom-application">Custom Application</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">About<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/privacy">Privacy</a></li><li class="navListItem"><a class="navItem" href="/docs/download">Download</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Server Side Customization</h1></header><article><div><span><p>OneApp is a flexible application, and you can map various business requirements using correct configurations. However, in case of any unique requirements, the application also provides well-structured JavaScript APIs that you can use to customize the application. You can customize the application either on the server side (an application that uses RikData Rest Builder) or on the client-side.</p>
<p>On the server side, the application provides eight connection/trigger points and 9 Global Methods.</p>
<h2><a class="anchor" aria-hidden="true" id="triggersconnection-points"></a><a href="#triggersconnection-points" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Triggers/Connection Points</h2>
<ul>
<li>BeforeGet : Called before Get requests</li>
<li>AfterGet : Called after Get requests</li>
<li>BeforePatch : Called before Patch requests</li>
<li>AfterPatch : Called after Patch requests</li>
<li>BeforePost : Called before Post requests</li>
<li>AfterPost : Called after Post requests</li>
<li>BeforeDelete : Called before Delete requests</li>
<li>AfterDelete : Called after Delete requests</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="global-methods"></a><a href="#global-methods" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Global Methods</h2>
<ul>
<li>consoleLog</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="rest"></a><a href="#rest" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>REST</h3>
<p>Can be used for both internal and external applications</p>
<ul>
<li>restGet</li>
<li>restPost</li>
<li>restPatch</li>
<li>restDelete</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="sql"></a><a href="#sql" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SQL</h3>
<p>Available only for internal applications</p>
<ul>
<li>sqlSelect</li>
<li>sqlInsert</li>
<li>sqlUpdate</li>
<li>sqlDelete</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="examples"></a><a href="#examples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples</h2>
<h3><a class="anchor" aria-hidden="true" id="remove-fields-from-rest-result"></a><a href="#remove-fields-from-rest-result" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Remove fields from REST result</h3>
<p>Several applications (such as ServiceNow) show user passwords when you fetch user records using REST APIs. Though the passwords are encoded and not usable, you probably want to remove them from the user interface. (This is just for illustration purposes. We can hide any field in the application just by configuration. No need to write any custom javascript code.)</p>
<ol>
<li>First, define a function to remove password from the REST result</li>
</ol>
<pre><code class="hljs">      <span class="hljs-comment">// For illustration purpose, showing  all possible options. Not the best way to remove a field</span>
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removePassword</span></span>(inputData) {
            <span class="hljs-keyword">if</span> (typeof inputData === <span class="hljs-string">"string"</span>) {
                allData = JSON.parse(inputData);
            } <span class="hljs-keyword">else</span> {
                allData = inputData;
            }
            let data = allData[<span class="hljs-string">"data"</span>];

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">Array</span>.isArray(data)) {
                let retData = <span class="hljs-keyword">new</span> <span class="hljs-type">Array</span>();
                <span class="hljs-keyword">for</span> (let i = <span class="hljs-number">0</span>; i &lt; data.length; i++) {
                let e = data[i];
                let <span class="hljs-keyword">new</span><span class="hljs-type">Obj</span> = <span class="hljs-keyword">new</span> <span class="hljs-type">Object</span>();
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> e) {
                    <span class="hljs-keyword">if</span> (k !== <span class="hljs-string">"password"</span>) {
                    <span class="hljs-keyword">new</span><span class="hljs-type">Obj</span>[k] = e[k];
                    }
                }
                retData.push(<span class="hljs-keyword">new</span><span class="hljs-type">Obj</span>);
                }
                <span class="hljs-keyword">return</span> retData;
            } <span class="hljs-keyword">else</span> {
                let <span class="hljs-keyword">new</span><span class="hljs-type">Obj</span> = <span class="hljs-keyword">new</span> <span class="hljs-type">Object</span>();
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> data) {
                <span class="hljs-keyword">if</span> (k !== <span class="hljs-string">"password"</span>) {
                    <span class="hljs-keyword">new</span><span class="hljs-type">Obj</span>[k] = data[k];
                }
                }
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span><span class="hljs-type">Obj</span>;
            }
            }
</code></pre>
<ol start="2">
<li>Add the above function to the main method specifying the function trigger point.</li>
</ol>
<pre><code class="hljs">   function main(){
        let allMethods =  {
            <span class="hljs-string">"RdSecUser"</span> : {
                <span class="hljs-string">"afterGet"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"removePassword"</span>],
                <span class="hljs-string">"BeforePatch"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"validatePassword"</span>],
                <span class="hljs-string">"BeforePost"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"validatePassword"</span>],
            },
            <span class="hljs-string">"RdSecRole"</span> : {
                <span class="hljs-string">"BeforeGet"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"validatePassword"</span>],
                <span class="hljs-string">"AfterGet"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"validatePassword"</span>],
                <span class="hljs-string">"BeforePatch"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"validatePassword"</span>],
                <span class="hljs-string">"AfterPatch"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"validatePassword"</span>],
                <span class="hljs-string">"BeforePost"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"validatePassword"</span>],
                <span class="hljs-string">"AfterPost"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"validatePassword"</span>],
                <span class="hljs-string">"BeforeDelete"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"validatePassword"</span>],
                <span class="hljs-string">"AfterDelete"</span> : [<span class="hljs-string">"user/user.js"</span>,<span class="hljs-string">"validatePassword"</span>],
            },
        };

        return allMethods;
} 
</code></pre>
<ul>
<li><p>RdSecUser: The entity name</p></li>
<li><p>afterGet : The trigger/call point</p></li>
<li><p>user/user.js : JavaScript file path</p></li>
<li><p>removePassword: Function that is called for RdSecUser after Get Request from the user.js file</p></li>
<li><p>*Put your main.js file in assets\js\config folder.</p></li>
</ul>
<p>Relative to the application execution file</p>
<h3><a class="anchor" aria-hidden="true" id="validate-a-field"></a><a href="#validate-a-field" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Validate a field</h3>
<p>It's a standard practice to let a user enter the password field twice to update her/his password. To validate the user entered the same value in two fields, you can use a simple function like below.</p>
<pre><code class="hljs">function validatePassword(<span class="hljs-keyword">data</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">data</span>[<span class="hljs-string">"password"</span>] === <span class="hljs-keyword">data</span>[<span class="hljs-string">"confirmPassword"</span>]) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">return</span> error;
  }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="rest-requests"></a><a href="#rest-requests" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>REST Requests</h3>
<p>Below are examples of how to use global REST functions</p>
<pre><code class="hljs">
const restRequestType = {
  get: <span class="hljs-string">"get"</span>,
  post: <span class="hljs-string">"post"</span>,
  patch: <span class="hljs-string">"patch"</span>,
  delete: <span class="hljs-string">"delete"</span>,
};

<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>freeze(restRequestType);


<span class="hljs-keyword">function</span> get<span class="hljs-constructor">Request(<span class="hljs-params">inputData</span>)</span> {
  <span class="hljs-keyword">let</span> newRequest = {
    host: <span class="hljs-string">"http://localhost:8085/api/ierp/Subinventory(subinventoryId=43)"</span>,
  };
  return rest<span class="hljs-constructor">Request(<span class="hljs-params">inputData</span>, <span class="hljs-params">restRequestType</span>.<span class="hljs-params">get</span>, <span class="hljs-params">newRequest</span>)</span>;
}

<span class="hljs-keyword">function</span> patch<span class="hljs-constructor">Request(<span class="hljs-params">inputData</span>)</span> {
  <span class="hljs-keyword">let</span> content = {
    description: <span class="hljs-string">"Raw TestSub03 id 46"</span>,
  };
  <span class="hljs-keyword">let</span> newRequest = {
    host: <span class="hljs-string">"http://localhost:8085/api/ierp/Subinventory(subinventoryId=46)"</span>,
    content: content,
  };
  return rest<span class="hljs-constructor">Request(<span class="hljs-params">inputData</span>, <span class="hljs-params">restRequestType</span>.<span class="hljs-params">patch</span>, <span class="hljs-params">newRequest</span>)</span>;
}

<span class="hljs-keyword">function</span> delete<span class="hljs-constructor">Request(<span class="hljs-params">inputData</span>)</span> {
  <span class="hljs-keyword">let</span> newRequest = {
    host: <span class="hljs-string">"http://localhost:8085/api/ierp/Subinventory(subinventoryId=47)"</span>
    };
  return rest<span class="hljs-constructor">Request(<span class="hljs-params">inputData</span>, <span class="hljs-params">restRequestType</span>.<span class="hljs-params">delete</span>, <span class="hljs-params">newRequest</span>)</span>;
}

<span class="hljs-keyword">function</span> post<span class="hljs-constructor">Request(<span class="hljs-params">inputData</span>)</span> {
  <span class="hljs-keyword">let</span> content = {
    <span class="hljs-string">"subinventory"</span>: <span class="hljs-string">"TestSub03"</span>,
    <span class="hljs-string">"description"</span>: <span class="hljs-string">"TestSub03 desc"</span>,
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"RAW"</span>,
    <span class="hljs-string">"locatorControl"</span>: <span class="hljs-string">"DYNAMIC_ENTRY"</span>,
    <span class="hljs-string">"orgId"</span>: <span class="hljs-string">"6"</span>,
    <span class="hljs-string">"materialAcId"</span>: <span class="hljs-string">"2"</span>,
    <span class="hljs-string">"materialOhAcId"</span>: <span class="hljs-string">"3"</span>,
    <span class="hljs-string">"ospAcId"</span>: <span class="hljs-string">"4"</span>,
    <span class="hljs-string">"overheadAcId"</span>: <span class="hljs-string">"5"</span>,
    <span class="hljs-string">"resourceAcId"</span>: <span class="hljs-string">"6"</span>,
    <span class="hljs-string">"lastUpdateBy"</span> : <span class="hljs-string">"34"</span>,
    <span class="hljs-string">"createdBy"</span> : <span class="hljs-string">"34"</span>,
  };
  <span class="hljs-keyword">let</span> newRequest = {
    host: <span class="hljs-string">"http://localhost:8085/api/ierp/Subinventory"</span>,
    content: content,
  };
  return rest<span class="hljs-constructor">Request(<span class="hljs-params">inputData</span>, <span class="hljs-params">restRequestType</span>.<span class="hljs-params">post</span>, <span class="hljs-params">newRequest</span>)</span>;
}

</code></pre>
<p>All these examples are only for illustration purposes.
For internal applications, you can use the Authorization details available in the input map. For external applications, use correct credentials as required.</p>
<pre><code class="hljs"><span class="hljs-keyword">function</span> rest<span class="hljs-constructor">Request(<span class="hljs-params">inputData</span>, <span class="hljs-params">type</span>, <span class="hljs-params">newRequest</span>)</span> {
  <span class="hljs-keyword">let</span> allData;
  <span class="hljs-keyword">if</span> (typeof inputData<span class="hljs-operator"> === </span><span class="hljs-string">"string"</span>) {
    allData = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">JSON</span>.</span></span>parse(inputData);
  } <span class="hljs-keyword">else</span> {
    allData = inputData;
  }

  <span class="hljs-keyword">let</span> data = allData<span class="hljs-literal">["<span class="hljs-identifier">data</span>"]</span>;
  <span class="hljs-keyword">let</span> requestData = allData<span class="hljs-literal">["<span class="hljs-identifier">request</span>"]</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-string">"Authorization"</span> <span class="hljs-keyword">in</span> requestData) {
    newRequest<span class="hljs-literal">["<span class="hljs-identifier">authorization</span>"]</span> = requestData<span class="hljs-literal">["A<span class="hljs-identifier">uthorization</span>"]</span>;
  }
  
  <span class="hljs-keyword">let</span> response;
  switch (<span class="hljs-keyword">type</span>) {
     case restRequestType.post:
      response = rest<span class="hljs-constructor">Post(<span class="hljs-params">newRequest</span>)</span>;
      break;
    case restRequestType.patch:
      response = rest<span class="hljs-constructor">Patch(<span class="hljs-params">newRequest</span>)</span>;
      break;
    case restRequestType.delete:
      response = rest<span class="hljs-constructor">Delete(<span class="hljs-params">newRequest</span>)</span>;
      break;
    case restRequestType.get:
    default:
      response = rest<span class="hljs-constructor">Get(<span class="hljs-params">newRequest</span>)</span>;
      break;
  }

  <span class="hljs-keyword">let</span> body = response.body;
  <span class="hljs-keyword">if</span> (typeof body<span class="hljs-operator"> === </span><span class="hljs-string">"string"</span>) {
    body = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">JSON</span>.</span></span>parse(response);
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Array</span>.</span></span>is<span class="hljs-constructor">Array(<span class="hljs-params">body</span>)</span>) {
    for (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; body.length; i++) {
      <span class="hljs-keyword">let</span> e = body<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>;
      print<span class="hljs-constructor">NestedObject(<span class="hljs-params">e</span>)</span>;
    }
  } <span class="hljs-keyword">else</span> {
    print<span class="hljs-constructor">NestedObject(<span class="hljs-params">body</span>)</span>;
  }
} 



</code></pre>
<p>Any function defined in the global space (main.js file) is available in all other files. So, you can define global functions such as the printNestedObject function in the main.js file.</p>
<pre><code class="hljs"><span class="hljs-keyword">function</span> print<span class="hljs-constructor">NestedObject(<span class="hljs-params">obj</span>)</span> {
  <span class="hljs-keyword">if</span> (typeof obj<span class="hljs-operator"> === </span><span class="hljs-string">"string"</span>) {
    console<span class="hljs-constructor">Log(<span class="hljs-params">obj</span>)</span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>keys(obj).length &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">let</span> allKeys = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>keys(obj);
    for (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; allKeys.length; i++) {
      const k = allKeys<span class="hljs-literal">[<span class="hljs-identifier">i</span>]</span>;
      console<span class="hljs-constructor">Log(<span class="hljs-params">k</span> + <span class="hljs-string">" : "</span> + <span class="hljs-params">obj</span>[<span class="hljs-params">k</span>])</span>;
      <span class="hljs-keyword">if</span> (typeof obj<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span><span class="hljs-operator"> === </span><span class="hljs-string">"object"</span><span class="hljs-operator"> &amp;&amp; </span><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>keys(obj<span class="hljs-literal">[<span class="hljs-identifier">k</span>]</span>).length &gt; <span class="hljs-number">0</span>) {
        print<span class="hljs-constructor">NestedObject(<span class="hljs-params">obj</span>[<span class="hljs-params">k</span>])</span>;
      }
    }
  }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="sql-requests"></a><a href="#sql-requests" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SQL Requests</h3>
<p>For internal applications, you can directly use SQL to Insert/Update/Delete various records. All the SQL statements used in REST APIs are parametrized. However, SQL requests are not. So, sanitize any user data before writing raw SQL statements.</p>
<h4><a class="anchor" aria-hidden="true" id="sqlselect"></a><a href="#sqlselect" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>sqlSelect</h4>
<pre><code class="hljs"><span class="hljs-keyword">function</span> sql<span class="hljs-constructor">QueryTest(<span class="hljs-params">inputData</span>)</span> {
  request = {
    sql: <span class="hljs-string">"SELECT * from sys_value_group_header"</span>,
    dbType: <span class="hljs-string">"MySQL"</span>,
    connName: <span class="hljs-string">"password"</span>,
  };

  <span class="hljs-keyword">let</span> response = sql<span class="hljs-constructor">Select(<span class="hljs-params">request</span>)</span>;
  print<span class="hljs-constructor">NestedObject(<span class="hljs-params">response</span>.<span class="hljs-params">data</span>)</span>;
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="sqlupdate"></a><a href="#sqlupdate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>sqlUpdate</h4>
<pre><code class="hljs"><span class="hljs-keyword">function</span> sql<span class="hljs-constructor">UpdateTest(<span class="hljs-params">inputData</span>)</span> {
  request = {
    sql: <span class="hljs-string">"UPDATE sys_value_group_header SET description = 'TEST Value Group03 With id 21' WHERE sys_value_group_header_id = '21' "</span>,
    dbType: <span class="hljs-string">"MySQL"</span>,
    connName: <span class="hljs-string">"password"</span>,
  };

  <span class="hljs-keyword">let</span> response = sql<span class="hljs-constructor">Update(<span class="hljs-params">request</span>)</span>;
  print<span class="hljs-constructor">NestedObject(<span class="hljs-params">response</span>.<span class="hljs-params">data</span>)</span>;
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="sqlinsert"></a><a href="#sqlinsert" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>sqlInsert</h4>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqlInsertTest</span><span class="hljs-params">(inputData)</span> {</span>
  let sql =
    <span class="hljs-string">"INSERT INTO sys_value_group_header (value_group, description, access_level, validation_type, created_by,last_update_by) "</span>;
  sql +=
    <span class="hljs-string">" VALUES ('</span>TEST_VG04', <span class="hljs-string">'TEST Value Group04'</span>, <span class="hljs-string">'user'</span>, <span class="hljs-string">'NONE'</span>, <span class="hljs-string">'1'</span>, <span class="hljs-string">'1'</span> ) <span class="hljs-string">";
  request = {
    sql: sql,
    dbType: "</span>MySQL<span class="hljs-string">",
    connName: "</span>password<span class="hljs-string">",
  };

  let response = sqlInsert(request);
  printNestedObject(response.data);
}
</span></code></pre>
<h4><a class="anchor" aria-hidden="true" id="sqldelete"></a><a href="#sqldelete" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>sqlDelete</h4>
<pre><code class="hljs"><span class="hljs-keyword">function</span> sql<span class="hljs-constructor">DeleteTest(<span class="hljs-params">inputData</span>)</span> {
  request = {
    sql: <span class="hljs-string">"DELETE FROM sys_value_group_header WHERE sys_value_group_header_id = '28' "</span>,
    dbType: <span class="hljs-string">"MySQL"</span>,
    connName: <span class="hljs-string">"password"</span>,
  };

  <span class="hljs-keyword">let</span> response = sql<span class="hljs-constructor">Delete(<span class="hljs-params">request</span>)</span>;
  print<span class="hljs-constructor">NestedObject(<span class="hljs-params">response</span>.<span class="hljs-params">data</span>)</span>;
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/admin/default-config-sforce"><span class="arrow-prev">← </span><span>Salesforce Default Config</span></a><a class="docs-next button" href="/docs/customization/client"><span>Client</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#triggersconnection-points">Triggers/Connection Points</a></li><li><a href="#global-methods">Global Methods</a><ul class="toc-headings"><li><a href="#rest">REST</a></li><li><a href="#sql">SQL</a></li></ul></li><li><a href="#examples">Examples</a><ul class="toc-headings"><li><a href="#remove-fields-from-rest-result">Remove fields from REST result</a></li><li><a href="#validate-a-field">Validate a field</a></li><li><a href="#rest-requests">REST Requests</a></li><li><a href="#sql-requests">SQL Requests</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="copyright">For any technical problem, raise an issue @<a class="light-link" href="https://github.com/rikdata/rikdata.github.io/issues/new"> GitHub</a></section><section class="copyright">Contact@rikdata.com | Copyright © 2021 RikData</section></footer></div></body></html>